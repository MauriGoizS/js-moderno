const miModulo=(()=>{"use strict";let e=["C","D","H","S"],t=["A","J","Q","K"],l=[],r=[],a=document.querySelector("#btnPedir"),d=document.querySelector("#btnDetener"),n=document.querySelector("#btnNuevo"),o=document.querySelectorAll(".divCartas"),s=document.querySelectorAll("small"),i=(e=2)=>{l=c(),r=Array(e).fill(0),s.forEach((e,t)=>e.innerText=0),o.forEach(e=>e.innerHTML=""),a.disabled=!1,d.disabled=!1},c=()=>{let l=[];for(let r=2;r<=10;r++)for(let a of e)l.push(r+a);for(let d of e)for(let n of t)l.push(n+d);return _.shuffle(l)},u=()=>{if(0===l.length)throw"No hay cartas en el deck";return l.pop()},$=e=>{let t=e.slice(0,-1);return isNaN(t)?"A"===t?11:10:parseInt(t,10)},f=(e,t)=>(r[t]+=$(e),s[t].innerText=r[t],r[t]),b=(e,t)=>{let l=document.createElement("img");l.src=`assets/cartas/${e}.png`,l.classList.add("carta"),o[t].append(l)},g=()=>{let[e,t]=r;setTimeout(()=>{t===e?alert("Nadie gana :("):e>21?alert("Computadora gana"):t>21?alert("Jugador gana"):alert("Computadora gana")},100)},h=e=>{let t=0;do{let l=u();t=f(l,r.length-1),b(l,r.length-1)}while(t<e&&e<=21);g()};return a.addEventListener("click",()=>{let e=u(),t=f(e,0);b(e,0),t>21?(a.disabled=!0,d.disabled=!0,h(t)):21===t&&(a.disabled=!0,d.disabled=!0,h(t))}),d.addEventListener("click",()=>{a.disabled=!0,d.disabled=!0,h(r[0])}),n.addEventListener("click",()=>{i()}),{nuevoJuego:i}})();